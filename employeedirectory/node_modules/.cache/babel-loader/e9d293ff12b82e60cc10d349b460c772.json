{"ast":null,"code":"import _classCallCheck from\"/Users/jacob/Documents/ReactEmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jacob/Documents/ReactEmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jacob/Documents/ReactEmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jacob/Documents/ReactEmployeeDirectory/employeedirectory/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import API from\"../utils/API\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Users=/*#__PURE__*/function(_React$Component){_inherits(Users,_React$Component);var _super=_createSuper(Users);function Users(){var _this;_classCallCheck(this,Users);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={users:[],search:\"\",sortDirection:\"\",col:\"\"};_this.handleSearchChange=function(e){_this.setState({search:e.target.value});};_this.renderUsers=function(){return _this.filteredUsers().sort(_this.sortUsers).map(function(user,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:user.image,alt:\"user\"})}),/*#__PURE__*/_jsx(\"td\",{children:user.first}),/*#__PURE__*/_jsx(\"td\",{children:user.last}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:new Date(user.dob).toDateString()})]},index);});};_this.Header=function(col){return _this.state.col===col?\"clickable \".concat(_this.state.sortDirection):\"clickable\";};_this.handleSort=function(col){_this.state.col===col&&_this.state.sortDirection===\"ascending\"?_this.setState({sortDirection:\"descending\",col:col}):_this.setState({sortDirection:\"ascending\",col:col});};_this.sortUsers=function(a,b){if(a[_this.state.col]<b[_this.state.col]){return _this.state.sortDirection===\"ascending\"?-1:1;}else if(a[_this.state.col]>b[_this.state.col]){return _this.state.sortDirection===\"ascending\"?1:-1;}return 0;};return _this;}_createClass(Users,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;API.ListOfUsers().then(function(res){var userArray=res.data.results.map(function(user){return{first:user.name.first,last:user.name.last,email:user.email,dob:user.dob.date,image:user.picture.medium};});_this2.setState({users:userArray});}).catch(function(err){return console.log(err);});}//Updates search for each new character\n},{key:\"filteredUsers\",value://Filtering search to match first and last name\nfunction filteredUsers(){var search=this.state.search.toLowerCase();return this.state.users.filter(function(user){return user.first.toLowerCase().includes(search)||user.last.toLowerCase().includes(search);});}//Rendering users\n},{key:\"render\",value://render the user container including search field\nfunction render(){var _this3=this;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-group justify-content-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group-prepend\"}),/*#__PURE__*/_jsx(\"input\",{onChange:this.handleSearchChange,type:\"search\",className:\"form-control m-3\",placeholder:\"Search\",\"aria-label\":\"SearchBox\",\"aria-describedby\":\"basic-addon1\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"table m-3\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:\"Image\"}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"span\",{className:this.Header(\"first\"),onClick:function onClick(){_this3.handleSort(\"first\");},children:\"First\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"span\",{className:this.Header(\"last\"),onClick:function onClick(){return _this3.handleSort(\"last\");},children:\"Last\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"span\",{className:this.Header(\"email\"),onClick:function onClick(){return _this3.handleSort(\"email\");},children:\"Email\"})}),/*#__PURE__*/_jsx(\"th\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"span\",{className:this.Header(\"dob\"),onClick:function onClick(){return _this3.handleSort(\"dob\");},children:\"DOB\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:this.renderUsers()})]})})]});}}]);return Users;}(React.Component);export default Users;","map":{"version":3,"sources":["/Users/jacob/Documents/ReactEmployeeDirectory/employeedirectory/src/components/Users.js"],"names":["React","API","Users","state","users","search","sortDirection","col","handleSearchChange","e","setState","target","value","renderUsers","filteredUsers","sort","sortUsers","map","user","index","image","first","last","email","Date","dob","toDateString","Header","handleSort","a","b","ListOfUsers","then","res","userArray","data","results","name","date","picture","medium","catch","err","console","log","toLowerCase","filter","includes","Component"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport API from \"../utils/API\";\n\nclass Users extends React.Component {\n  state = {\n    users: [],\n    search: \"\",\n    sortDirection: \"\",\n    col: \"\"\n  };\n\n  componentDidMount() {\n    API.ListOfUsers()\n      .then(res => {\n        const userArray = res.data.results.map(user => {\n          return {\n            first: user.name.first,\n            last: user.name.last,\n            email: user.email,\n            dob: user.dob.date,\n            image: user.picture.medium\n          };\n        });\n        this.setState({ users: userArray });\n      })\n      .catch(err => console.log(err));\n  }\n\n  //Updates search for each new character\n  handleSearchChange = e => {\n    this.setState({ search: e.target.value });\n  };\n\n  //Filtering search to match first and last name\n  filteredUsers() {\n    const search = this.state.search.toLowerCase();\n    return this.state.users.filter(user => {\n      return (\n        user.first.toLowerCase().includes(search) ||\n        user.last.toLowerCase().includes(search)\n      );\n    });\n  }\n\n  //Rendering users\n  renderUsers = () => {\n    return this.filteredUsers()\n      .sort(this.sortUsers)\n      .map((user, index) => {\n        return (\n          <tr key={index}>\n            <td>\n              <img src={user.image} alt=\"user\"></img>\n            </td>\n            <td>{user.first}</td>\n            <td>{user.last}</td>\n            <td>{user.email}</td>\n            <td>{new Date(user.dob).toDateString()}</td>\n          </tr>\n        );\n      });\n  };\n\n   // Makes list names clickable\n   Header = col => {\n    return this.state.col === col\n      ? `clickable ${this.state.sortDirection}`\n      : `clickable`;\n  };\n\n// Resets list ordering \n  handleSort = col => {\n    this.state.col === col && this.state.sortDirection === \"ascending\"\n      ? this.setState({ sortDirection: \"descending\", col: col })\n      : this.setState({ sortDirection: \"ascending\", col: col });\n  };\n\n  //Manages sort direction based on 1 value or -1\n  sortUsers = (a, b) => {\n    if (a[this.state.col] < b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? -1 : 1;\n    } else if (a[this.state.col] > b[this.state.col]) {\n      return this.state.sortDirection === \"ascending\" ? 1 : -1;\n    }\n    return 0;\n  };\n\n  //render the user container including search field\n  render() {\n    return (\n      <>\n        <div className=\"input-group justify-content-center\">\n          <div className=\"input-group-prepend\"></div>\n          <input\n            onChange={this.handleSearchChange}\n            type=\"search\"\n            className=\"form-control m-3\"\n            placeholder=\"Search\"\n            aria-label=\"SearchBox\"\n            aria-describedby=\"basic-addon1\"\n          />\n        </div>\n        <div className=\"table m-3\">\n          <table className=\"table table-striped\">\n            <thead>\n              <tr>\n                <th scope=\"col\">Image</th>\n                <th scope=\"col\">\n                  <span\n                    className={this.Header(\"first\")}\n                    onClick={() => {\n                      this.handleSort(\"first\");\n                    }}\n                  >\n                    First\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.Header(\"last\")}\n                    onClick={() => this.handleSort(\"last\")}\n                  >\n                    Last\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.Header(\"email\")}\n                    onClick={() => this.handleSort(\"email\")}\n                  >\n                    Email\n                  </span>\n                </th>\n                <th scope=\"col\">\n                  <span\n                    className={this.Header(\"dob\")}\n                    onClick={() => this.handleSort(\"dob\")}\n                  >\n                    DOB\n                  </span>\n                </th>\n              </tr>\n            </thead>\n            <tbody>{this.renderUsers()}</tbody>\n          </table>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}